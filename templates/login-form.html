<div class="container formLogin " ng-show="loginformshow==0">

    <div id="login">
        <form class="form-signin" name="userConnection" ng-submit="userConnection.$valid && sessionCtrl.connection()">
            <h2 class="form-signin-heading">Login</h2>
            <label for="inputName" class="sr-only">Username</label>
            <input type="text" id="inputName" class="form-control" ng-model="user.nick" placeholder="Username" name="name" autofocus required>
            <label for="inputPassword" class="sr-only">Password</label>
            <input type="password" id="inputPassword" name="password" ng-model="user.password" class="form-control" placeholder="Password" required>
            <a href="#" id="letraLink" ng-click="recoverFormShow=1;loginformshow=1">I have forgotten my password</a>
            <input class="btn btn-default btn-primary btn-block" type="submit" value="Login" ng-disabled="userConnection.$invalid"/>
            <button class="btn btn-default btn-warning btn-block" type="button" ng-click="showRegisterForm=1;loginformshow=1">Register</button>
        </form>
    </div>
</div>

<div class="container formColor" ng-controller="registerController as registerCtrl">
    <form class="form-vertical" name="userRegistration" ng-submit="userRegistration.$valid && registerCtrl.registerUser()" ng-show="showRegisterForm==1">

        <div class="form-group">
            <div class="row">
                <div class="col-xs-12">
                    <h3>Register</h3>
                </div>
            </div>

            <div class="form-group col-xs-6">
                <label for="nick" class="col-sm-2 control-label">Username*</label>
                <div class="col-sm-10">
                    <div class="right-inner-addon">

                        <i class="fa fa-user"></i>
                        <input type="text" ng-model="user.nick" class="form-control" id="inputNick" placeholder="Nick" name="nick" ng-maxlength=16 ng-minlength=3 ng-pattern="/^[a-zA-Z0-9]*$/" ng-blur="sessionCtrl.checkNick()" required>
                    </div>
                    <div ng-messages="userRegistration.nick.$error" class="textBoxError" role="alert">
                        <div ng-message="maxlength">Nick must be shorter than 16 characters</div>
                        <div ng-message="minlength">Nick must be greater than 2 characters</div>
                        <div ng-message="pattern">Nick must be informed correctly</div>
                    </div>
                    <div class="help-block" ng-if="!nickValid">
                        This nick already exists
                    </div>
                </div>
            </div>

            <div class="form-group col-xs-6">
                <label form="email" class="col-sm-2 control-label">Email*</label>
                <div class="col-sm-10">
                    <div class="right-inner-addon">
                        <i class="fa fa-envelope"></i>
                        <input type="email" ng-model="userdata.email" class="form-control" id="inputEmailLogin" placeholder="user@gmail.com" name="email" ng-blur="sessionCtrl.checkEmail()" required>
                    </div>
                    <div ng-messages="userRegistration.email.$error" class="textBoxError" role="alert">
                        <div ng-message="maxlength">Email must be shorter than 16 characters</div>
                        <div ng-message="minlength">Email must be greater than 2 characters</div>
                        <div ng-message="pattern">Email must be informed correctly</div>

                    </div>
                    <div class="help-block" ng-if="!emailValid">
                        This email already exists
                    </div>
                </div>
            </div>

            <div class="form-group col-xs-6">
                <label form="password" class="col-sm-2 control-label">Password*</label>
                <div class="col-sm-10">
                    <div class="right-inner-addon">
                        <i class="fa fa-key"></i>
                        <input type="password" ng-model="user.password" class="form-control" id="inputPassword" placeholder="Password" name="password" ng-maxlength=16 ng-minLength=3 required>
                    </div>
                    <div ng-messages="userRegistration.password.$error" class="textBoxError" role="alert">
                        <div ng-message="maxlength">Password must be shorter than 16 digits</div>
                        <div ng-message="pattern">Password must be only numbers, uppercases and letters</div>
                    </div>

                </div>
            </div>

            <div class="form-group col-xs-6">
                <label form="confirmPassword" class="col-sm-2 control-label">Confirm Password*</label>
                <div class="col-sm-10">
                    <div class="right-inner-addon">
                        <i class="fa fa-repeat"></i>
                        <input type="password" ng-model="confirmPassword" class="form-control" id="inputConfirmPassword" placeholder="Confirm Password" ng-change="sessionCtrl.checkPassword()" name="confirmPassword" ng-maxlength=16 ng-minLength=3 required>
                    </div>
                    <div class="help-block" ng-if="user.password!=confirmPassword">
                        Passwords must match
                    </div>
                </div>
            </div>

            <div class="form-group col-xs-6">
                <label form="confirmPassword" class="col-sm-2 control-label">Personal Pin* (For recovery password)</label>
                <div class="col-sm-10">
                    <div class="right-inner-addon">
                        <i class="fa fa-repeat"></i>
                        <input type="password" ng-model="user.pin" class="form-control" id="inputPin" placeholder="Pin" name="pin" ng-maxlength=4 ng-minLength=4 ng-pattern="/^[0-9]+$/" required>
                    </div>
                    <div ng-messages="userRegistration.pin.$error" class="textBoxError" role="alert">
                        <div ng-message="maxlength">Pin must be of 4 characters</div>
                        <div ng-message="minlegnth">Pin must be of 4 characters</div>
                        <div ng-message="pattern">Pin must be only numbers</div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="row">
                    <div class="col-xs-12">
                        <hr></hr>
                    </div>
                </div>

                <div class="form-group col-xs-6">
                    <label form="name" class="col-sm-2 control-label">Name*</label>
                    <div class="col-sm-10">
                        <div class="right-inner-addon">
                            <i class="fa fa-user"></i>
                            <input type="text" ng-model="userdata.name" class="form-control" id="inputName" placeholder="Name" name="name" ng-pattern="/^[a-zA-Zñá-ú\s]+$/" autofocus required>
                        </div>

                        <div ng-messages="userRegistration.name.$error" class="textBoxError" role="alert">
                            <div ng-message="pattern">No numbers or strange characters</div>
                        </div>
                    </div>
                </div>

                <div class="form-group col-xs-6">
                    <label form="lastName" class="col-sm-2 control-label">Last Name</label>
                    <div class="col-sm-10">
                        <div class="right-inner-addon">
                            <i class="fa fa-user"></i>
                            <input type="text" ng-model="userdata.lastName" class="form-control" id="inputLastName" placeholder="Last name" name="lastName" maxlength=15 ng-pattern="/^[a-zA-Z\s]*$/">
                        </div>
                        <div ng-messages="userRegistration.lastName.$error" class="textBoxError" role="alert">
                            <div ng-message="maxlength">Last Name is too long</div>
                            <div ng-message="pattern">No numbers or strange characters</div>
                        </div>
                    </div>
                </div>

                <div class="form-group col-xs-6">
                    <label form="phone" class="col-sm-2 control-label">Telephone</label>
                    <div class="col-sm-10">
                        <div class="right-inner-addon">
                            <i class="fa fa-phone"></i>
                            <input type="text" ng-model="userdata.phone" class="form-control" id="inputPhone" placeholder="234568197" ng-minlength=9 ng-maxlength=11 name="phone" ng-pattern="/^[0-9]+$/">
                        </div>
                        <div ng-messages="userRegistration.phone.$error" class="textBoxError" role="alert">
                            <div ng-message="maxlength">Telephone / Mobile Phone must be shorter than 11 digits</div>
                            <div ng-message="minlength">Telephone / Mobile Phone must be greater than 8 digits</div>
                            <div ng-message="pattern">No letters/strange characters</div>
                        </div>
                    </div>
                </div>

                <div class="form-group col-xs-6" ng-if="adminYes==1">
                    <div class="col-sm-10">
                        <div class="right-inner-addon">
                            <i class="fa fa-phone"></i>
                            <input type="checkbox" ng-model="user.role" ng-true-value="'2'" ng-false-value="'1'" class="form-control" id="inputRoleAdmin">
                            Admin
                        </div>
                    </div>
                </div>

            </div>
            <input class="btn btn-default btn-primary btn-lg-6" type="submit" value="Register" ng-disabled="userRegistration.$invalid || passwordValid==0 || !nickValid"/>
            <button class="btn btn-default btn-warning btn-lg-6" type="button" ng-click="registerCtrl.test()">Login</button>

            <div class="textBoxError">
                <label class="fieldsRequired">* Required fields</label>
            </div>

        </form>
    </div>

</div>

<div class="container formRecover" ng-show="recoverFormShow==1">

    <div id="recover" ng-controller="recoverController as recoverCtrl">
        <form class="form-signin" name="userRecover" ng-submit="userRecover.$valid && recoverCtrl.recoverPassword()">
            <h2 class="form-signin-heading">Recovering password</h2>

            <div class="col-sm-12" style="margin-bottom:2vw;">
                <div class="right-inner-addon">
                    <input type="email" ng-model="userdata.email" class="form-control" id="inputEmail" placeholder="user@gmail.com" name="email" required>
                </div>
            </div>

            <input class="btn btn-default btn-primary btn-block recover" type="submit" value="Recover" ng-disabled="userRecover.$invalid"/>
            <button class="btn btn-default btn-warning btn-block" type="button" ng-click="recoverCtrl.test()">Back</button>

        </form>
    </div>
</div>
